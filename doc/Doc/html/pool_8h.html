<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>D:/SmartGit/mmemo/pool/pool.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="memo_logo.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bb112bf077852daad6db3bdad44771f9.html">pool</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">pool.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;untyped_pool.h&quot;</code><br/>
<code>#include &quot;typed_pool.h&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for pool.h:</div>
<div class="dyncontent">
<div class="center"><img src="pool_8h__incl.png" border="0" usemap="#_d_1_2_smart_git_2mmemo_2pool_2pool_8h" alt=""/></div>
<map name="_d_1_2_smart_git_2mmemo_2pool_2pool_8h" id="_d_1_2_smart_git_2mmemo_2pool_2pool_8h">
<area shape="rect" id="node2" href="untyped__pool_8h_source.html" title="untyped_pool.h" alt="" coords="5,96,115,123"/><area shape="rect" id="node3" href="typed__pool_8h_source.html" title="typed_pool.h" alt="" coords="140,96,236,123"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="pool_8h__dep__incl.png" border="0" usemap="#_d_1_2_smart_git_2mmemo_2pool_2pool_8hdep" alt=""/></div>
<map name="_d_1_2_smart_git_2mmemo_2pool_2pool_8hdep" id="_d_1_2_smart_git_2mmemo_2pool_2pool_8hdep">
<area shape="rect" id="node2" href="memo_8h_source.html" title="D:/SmartGit/mmemo/memo.h" alt="" coords="5,96,197,123"/><area shape="rect" id="node3" href="main_8h_source.html" title="D:/SmartGit/mmemo/test\l/main.h" alt="" coords="17,171,185,213"/></map>
</div>
</div>
<p><a href="pool_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_pool_dispatcher.html">PoolDispatcher&lt; TYPE, COUNT_GETTER &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab84b49d60821c60a699d22912de615d3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pool_8h.html#ab84b49d60821c60a699d22912de615d3">MEMO_ENABLE_POOL</a>(TYPE, DEFAULT_CAPACITY)</td></tr>
<tr class="separator:ab84b49d60821c60a699d22912de615d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ab84b49d60821c60a699d22912de615d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MEMO_ENABLE_POOL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TYPE, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">DEFAULT_CAPACITY&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">namespace </span>memo {                                                                        \</div>
<div class="line">    template &lt;&gt; <span class="keyword">class </span>AllocationDispatcher&lt;_TestClass &gt; : <span class="keyword">public</span> <a class="code" href="classmemo_1_1_pool_dispatcher.html">memo::PoolDispatcher</a>&lt; _TestClass, AllocationDispatcher&lt;_TestClass &gt; &gt;  \</div>
<div class="line">    {                                                                                                                                   \</div>
<div class="line">    public:                                                                                                                             \</div>
<div class="line">        static <span class="keyword">const</span> <span class="keywordtype">char</span> * type_name() { <span class="keywordflow">return</span> #TYPE; }                                                                               \</div>
<div class="line">        static <span class="keywordtype">size_t</span> get_pool_capacity()                                                                                               \</div>
<div class="line">        {                                                                                                                               \</div>
<div class="line">            size_t capacity = DEFAULT_CAPACITY;                                                                                         \</div>
<div class="line">            MemoryManager::get_instance().get_pool_object_count( type_name(), &amp;capacity );                                              \</div>
<div class="line">            return capacity;                                                                                                            \</div>
<div class="line">        }                                                                                                                               \</div>
<div class="line">    }; }</div>
<div class="ttc" id="classmemo_1_1_pool_dispatcher_html"><div class="ttname"><a href="classmemo_1_1_pool_dispatcher.html">memo::PoolDispatcher</a></div><div class="ttdef"><b>Definition:</b> pool.h:39</div></div>
</div><!-- fragment --><p>Enables a memory pool for the type TYPE, with capacity DEFAULT_CAPACITY, or with the capacity specified in the memory configuration file. MEMO_ENABLE_POOL specializes a AllocationDispatcher that uses a <a class="el" href="classmemo_1_1_typed_pool.html">memo::TypedPool</a>. Only the macro MEMO_NEW and MEMO_DELETE are dispatched to the pool: array allocations are performed with the default dispatcher (that is, the thread current allocator is used). TypedPool is not thread safe, but the AllocationDispatcher defined by this macro protects the pool with a mutex. The pool allocates a memory buffer the first time it is created, and places in it objects up to the capacity. When the capacity is over, TypedPool uses the default allocator. This macro must be used in the global namespace, only once, and after TYPE has been defined. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Mar 23 2014 08:05:59 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
