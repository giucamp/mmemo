<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>UntypedPool Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="memo_logo.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>memo</b></li><li class="navelem"><a class="el" href="classmemo_1_1_untyped_pool.html">UntypedPool</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmemo_1_1_untyped_pool-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">UntypedPool Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="untyped__pool_8h_source.html">untyped_pool.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9bc7428b4d8317511136b2d908654258"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_untyped_pool.html#a9bc7428b4d8317511136b2d908654258">UntypedPool</a> ()</td></tr>
<tr class="separator:a9bc7428b4d8317511136b2d908654258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e0784ea0504d96dbcfb910218e76b5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_untyped_pool.html#a9e0784ea0504d96dbcfb910218e76b5f">~UntypedPool</a> ()</td></tr>
<tr class="separator:a9e0784ea0504d96dbcfb910218e76b5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac41982807279d7151a8d35b66fc1f50"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_untyped_pool.html#aac41982807279d7151a8d35b66fc1f50">init</a> (const Config &amp;i_config)</td></tr>
<tr class="separator:aac41982807279d7151a8d35b66fc1f50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa90a5c5c3718da584a64351bf5a8876"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_untyped_pool.html#afa90a5c5c3718da584a64351bf5a8876">uninit</a> ()</td></tr>
<tr class="separator:afa90a5c5c3718da584a64351bf5a8876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae170032a6c8025dbe9a100661d49d40f"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_untyped_pool.html#ae170032a6c8025dbe9a100661d49d40f">alloc</a> ()</td></tr>
<tr class="separator:ae170032a6c8025dbe9a100661d49d40f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38aa39bf2c085cb907d821957cd06b81"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_untyped_pool.html#a38aa39bf2c085cb907d821957cd06b81">alloc_slot</a> ()</td></tr>
<tr class="separator:a38aa39bf2c085cb907d821957cd06b81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86936431ea537e6d0442ddc055cf7693"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_untyped_pool.html#a86936431ea537e6d0442ddc055cf7693">free</a> (void *i_element)</td></tr>
<tr class="separator:a86936431ea537e6d0442ddc055cf7693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d5eccc63e8628706fbd2e164ad40d44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_untyped_pool.html#a8d5eccc63e8628706fbd2e164ad40d44">free_slot</a> (void *i_element)</td></tr>
<tr class="separator:a8d5eccc63e8628706fbd2e164ad40d44"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class providing efficient fixed-size allocation services. When initialized, the pool allocates a buffer with the default allocator. This buffer is large enough to contain the number of elements specified in the configuration (see <a class="el" href="classmemo_1_1_untyped_pool.html#aac41982807279d7151a8d35b66fc1f50">UntypedPool::init</a>). The pool keeps a linked list of free slots. So both allocations and deallocation are constant time and very fast. There is not space overhead, nor any fragmentation. The only drawback is that the pool must be initialized with a size. When the pool is full, this class can allocate transparently using the default allocator. If you want to use a pool for a specific type, you may use <a class="el" href="classmemo_1_1_typed_pool.html">memo::TypedPool</a>. This class is not thread safe. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9bc7428b4d8317511136b2d908654258"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmemo_1_1_untyped_pool.html">UntypedPool</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructs an unitialized pool. Call <a class="el" href="classmemo_1_1_untyped_pool.html#aac41982807279d7151a8d35b66fc1f50">UntypedPool::init</a> before using any other method. </p>

</div>
</div>
<a class="anchor" id="a9e0784ea0504d96dbcfb910218e76b5f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classmemo_1_1_untyped_pool.html">UntypedPool</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destroys the pool, uninitializing it if necessary. The pool can be destroyed only when there are no living blocks allocated by the it. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmemo_1_1_untyped_pool_a9e0784ea0504d96dbcfb910218e76b5f_cgraph.png" border="0" usemap="#classmemo_1_1_untyped_pool_a9e0784ea0504d96dbcfb910218e76b5f_cgraph" alt=""/></div>
<map name="classmemo_1_1_untyped_pool_a9e0784ea0504d96dbcfb910218e76b5f_cgraph" id="classmemo_1_1_untyped_pool_a9e0784ea0504d96dbcfb910218e76b5f_cgraph">
<area shape="rect" id="node2" href="classmemo_1_1_untyped_pool.html#afa90a5c5c3718da584a64351bf5a8876" title="uninit" alt="" coords="157,12,211,39"/><area shape="rect" id="node3" href="classmemo_1_1_default_allocator.html#a5b9f79933455057df502c53e84758201" title="deallocates a memory block allocated by alloc or realloc. Implements IAllocator::free. ::free is used to deallocate the memory block. " alt="" coords="259,5,416,46"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae170032a6c8025dbe9a100661d49d40f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MEMO_INLINE void * alloc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates a block of memory. The size and the alignment of the block are those specified in the configuration of the pool. If there is not a free sot in the pool, this method allocates using the default allocator. </p>
<dl class="section return"><dt>Returns</dt><dd>address of the newly allocated block, or nullptr if both the pool and the default allocator could not allocate the block. </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmemo_1_1_untyped_pool_ae170032a6c8025dbe9a100661d49d40f_icgraph.png" border="0" usemap="#classmemo_1_1_untyped_pool_ae170032a6c8025dbe9a100661d49d40f_icgraph" alt=""/></div>
<map name="classmemo_1_1_untyped_pool_ae170032a6c8025dbe9a100661d49d40f_icgraph" id="classmemo_1_1_untyped_pool_ae170032a6c8025dbe9a100661d49d40f_icgraph">
<area shape="rect" id="node2" href="classmemo_1_1_typed_pool.html#a0ddacbeceb9272d096853a663a432ca7" title="memo::TypedPool::alloc" alt="" coords="108,5,271,32"/><area shape="rect" id="node3" href="classmemo_1_1_typed_pool.html#a158152ac4362355c610847459556a969" title="memo::TypedPool::create\l_object" alt="" coords="104,57,275,98"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a38aa39bf2c085cb907d821957cd06b81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MEMO_INLINE void * alloc_slot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates a block of memory. The size and the alignment of the block are those specified in the configuration of the pool. Unlike <a class="el" href="classmemo_1_1_untyped_pool.html#ae170032a6c8025dbe9a100661d49d40f">UntypedPool::alloc</a>, this method allocates only in the pool. </p>
<dl class="section return"><dt>Returns</dt><dd>address of the newly allocated block, or nullptr if the pool could not allocate the block. </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmemo_1_1_untyped_pool_a38aa39bf2c085cb907d821957cd06b81_icgraph.png" border="0" usemap="#classmemo_1_1_untyped_pool_a38aa39bf2c085cb907d821957cd06b81_icgraph" alt=""/></div>
<map name="classmemo_1_1_untyped_pool_a38aa39bf2c085cb907d821957cd06b81_icgraph" id="classmemo_1_1_untyped_pool_a38aa39bf2c085cb907d821957cd06b81_icgraph">
<area shape="rect" id="node2" href="classmemo_1_1_typed_pool.html#a47cc17ec687b610a7e2a594cfc664a44" title="memo::TypedPool::alloc_slot" alt="" coords="131,5,322,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a86936431ea537e6d0442ddc055cf7693"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MEMO_INLINE void free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>i_element</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees a block of memory, allocated with alloc or alloc_slot. If the block is outside the pool, this method uses the default allocator to free the block. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i_element</td><td>address of the block to free. Can't be nullptr. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmemo_1_1_untyped_pool_a86936431ea537e6d0442ddc055cf7693_icgraph.png" border="0" usemap="#classmemo_1_1_untyped_pool_a86936431ea537e6d0442ddc055cf7693_icgraph" alt=""/></div>
<map name="classmemo_1_1_untyped_pool_a86936431ea537e6d0442ddc055cf7693_icgraph" id="classmemo_1_1_untyped_pool_a86936431ea537e6d0442ddc055cf7693_icgraph">
<area shape="rect" id="node2" href="classmemo_1_1_typed_pool.html#a5b9f79933455057df502c53e84758201" title="memo::TypedPool::free" alt="" coords="107,5,263,32"/><area shape="rect" id="node3" href="classmemo_1_1_typed_pool.html#ac6e8b6f76d69e9d3020b9898f8c4924f" title="memo::TypedPool::destroy\l_object" alt="" coords="96,57,275,98"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8d5eccc63e8628706fbd2e164ad40d44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MEMO_INLINE void free_slot </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>i_element</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees a block of memory allocated with alloc_slot. Unlike <a class="el" href="classmemo_1_1_untyped_pool.html#a86936431ea537e6d0442ddc055cf7693">UntypedPool::free</a>, this method can free only blocks allocated in the pool. Use free_slot only if the block was allocated with alloc_slot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i_element</td><td>address of the block to free. Can't be nullptr. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmemo_1_1_untyped_pool_a8d5eccc63e8628706fbd2e164ad40d44_icgraph.png" border="0" usemap="#classmemo_1_1_untyped_pool_a8d5eccc63e8628706fbd2e164ad40d44_icgraph" alt=""/></div>
<map name="classmemo_1_1_untyped_pool_a8d5eccc63e8628706fbd2e164ad40d44_icgraph" id="classmemo_1_1_untyped_pool_a8d5eccc63e8628706fbd2e164ad40d44_icgraph">
<area shape="rect" id="node2" href="classmemo_1_1_typed_pool.html#ae0a5f34bc6ce1f0ee0a192375ac34d2b" title="memo::TypedPool::free_slot" alt="" coords="125,5,309,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aac41982807279d7151a8d35b66fc1f50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool init </td>
          <td>(</td>
          <td class="paramtype">const Config &amp;&#160;</td>
          <td class="paramname"><em>i_config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates a buffer with the default allocator, and formats it to be used for fixed size allocations.  i_config configuration of the pool </p>
<dl class="section return"><dt>Returns</dt><dd>true if the buffer was successfully allocated and formatted, false otherwise </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmemo_1_1_untyped_pool_aac41982807279d7151a8d35b66fc1f50_cgraph.png" border="0" usemap="#classmemo_1_1_untyped_pool_aac41982807279d7151a8d35b66fc1f50_cgraph" alt=""/></div>
<map name="classmemo_1_1_untyped_pool_aac41982807279d7151a8d35b66fc1f50_cgraph" id="classmemo_1_1_untyped_pool_aac41982807279d7151a8d35b66fc1f50_cgraph">
<area shape="rect" id="node2" href="classmemo_1_1_untyped_pool.html#afa90a5c5c3718da584a64351bf5a8876" title="uninit" alt="" coords="145,12,199,39"/><area shape="rect" id="node4" href="classmemo_1_1_default_allocator.html#aa0efeca40d5326beeff035039fe5cc36" title="allocates an aligned memory block. Implements IAllocator::alloc. ::malloc is used to allocate the mem..." alt="" coords="93,63,251,105"/><area shape="rect" id="node3" href="classmemo_1_1_default_allocator.html#a5b9f79933455057df502c53e84758201" title="deallocates a memory block allocated by alloc or realloc. Implements IAllocator::free. ::free is used to deallocate the memory block. " alt="" coords="299,5,456,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmemo_1_1_untyped_pool_aac41982807279d7151a8d35b66fc1f50_icgraph.png" border="0" usemap="#classmemo_1_1_untyped_pool_aac41982807279d7151a8d35b66fc1f50_icgraph" alt=""/></div>
<map name="classmemo_1_1_untyped_pool_aac41982807279d7151a8d35b66fc1f50_icgraph" id="classmemo_1_1_untyped_pool_aac41982807279d7151a8d35b66fc1f50_icgraph">
<area shape="rect" id="node2" href="classmemo_1_1_typed_pool.html#ae2ba14bf567887c0285c4e84e7f4f3e0" title="memo::TypedPool::init" alt="" coords="93,5,245,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afa90a5c5c3718da584a64351bf5a8876"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uninit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deallocates the buffer used by the pool. This method should be called only when there are no living blocks allocated by the pool. It's legal to call this method before init or twice. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmemo_1_1_untyped_pool_afa90a5c5c3718da584a64351bf5a8876_cgraph.png" border="0" usemap="#classmemo_1_1_untyped_pool_afa90a5c5c3718da584a64351bf5a8876_cgraph" alt=""/></div>
<map name="classmemo_1_1_untyped_pool_afa90a5c5c3718da584a64351bf5a8876_cgraph" id="classmemo_1_1_untyped_pool_afa90a5c5c3718da584a64351bf5a8876_cgraph">
<area shape="rect" id="node2" href="classmemo_1_1_default_allocator.html#a5b9f79933455057df502c53e84758201" title="deallocates a memory block allocated by alloc or realloc. Implements IAllocator::free. ::free is used to deallocate the memory block. " alt="" coords="107,5,264,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmemo_1_1_untyped_pool_afa90a5c5c3718da584a64351bf5a8876_icgraph.png" border="0" usemap="#classmemo_1_1_untyped_pool_afa90a5c5c3718da584a64351bf5a8876_icgraph" alt=""/></div>
<map name="classmemo_1_1_untyped_pool_afa90a5c5c3718da584a64351bf5a8876_icgraph" id="classmemo_1_1_untyped_pool_afa90a5c5c3718da584a64351bf5a8876_icgraph">
<area shape="rect" id="node2" href="classmemo_1_1_typed_pool.html#afa90a5c5c3718da584a64351bf5a8876" title="memo::TypedPool::uninit" alt="" coords="107,5,274,32"/><area shape="rect" id="node3" href="classmemo_1_1_untyped_pool.html#aac41982807279d7151a8d35b66fc1f50" title="init" alt="" coords="171,56,210,83"/><area shape="rect" id="node5" href="classmemo_1_1_untyped_pool.html#a9e0784ea0504d96dbcfb910218e76b5f" title="~UntypedPool" alt="" coords="139,107,243,133"/><area shape="rect" id="node4" href="classmemo_1_1_typed_pool.html#ae2ba14bf567887c0285c4e84e7f4f3e0" title="memo::TypedPool::init" alt="" coords="323,56,475,83"/></map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>D:/SmartGit/mmemo/pool/<a class="el" href="untyped__pool_8h_source.html">untyped_pool.h</a></li>
<li>D:/SmartGit/mmemo/pool/untyped_pool.cpp</li>
<li>D:/SmartGit/mmemo/pool/untyped_pool.inl</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Mar 23 2014 08:06:00 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
