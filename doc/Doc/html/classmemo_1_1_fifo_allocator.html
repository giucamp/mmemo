<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>FifoAllocator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="memo_logo.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>memo</b></li><li class="navelem"><a class="el" href="classmemo_1_1_fifo_allocator.html">FifoAllocator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmemo_1_1_fifo_allocator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">FifoAllocator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="fifo__allocator_8h_source.html">fifo_allocator.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_fifo_allocator_1_1_iterator.html">Iterator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_fifo_allocator_1_1_test_session.html">TestSession</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">tester ///  <a href="classmemo_1_1_fifo_allocator_1_1_test_session.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae0b367363d52356b7870b9669a44886a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_fifo_allocator.html#ae0b367363d52356b7870b9669a44886a">FifoAllocator</a> ()</td></tr>
<tr class="separator:ae0b367363d52356b7870b9669a44886a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09bf519f258ab8f95ad9cf0a064da3c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_fifo_allocator.html#a09bf519f258ab8f95ad9cf0a064da3c4">FifoAllocator</a> (void *i_buffer_start_address, size_t i_buffer_length)</td></tr>
<tr class="separator:a09bf519f258ab8f95ad9cf0a064da3c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbc560d233bc9cb7fa96728c9bf3c398"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_fifo_allocator.html#acbc560d233bc9cb7fa96728c9bf3c398">set_buffer</a> (void *i_buffer_start_address, size_t i_buffer_length)</td></tr>
<tr class="separator:acbc560d233bc9cb7fa96728c9bf3c398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31adafa97455b9ed1afc71d76ecc5250"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_fifo_allocator.html#a31adafa97455b9ed1afc71d76ecc5250">alloc</a> (size_t i_size, size_t i_alignment, size_t i_alignment_offset)</td></tr>
<tr class="separator:a31adafa97455b9ed1afc71d76ecc5250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbc8a3c21c450f6a783eb94c407eab2e"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_fifo_allocator.html#abbc8a3c21c450f6a783eb94c407eab2e">get_first_block</a> ()</td></tr>
<tr class="separator:abbc8a3c21c450f6a783eb94c407eab2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24ae09b7d0734e64ee5da7d1055824fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_fifo_allocator.html#a24ae09b7d0734e64ee5da7d1055824fa">free_first</a> (void *i_first_block)</td></tr>
<tr class="separator:a24ae09b7d0734e64ee5da7d1055824fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8bb3912a3ce86b15842e79d0b421204"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_fifo_allocator.html#ac8bb3912a3ce86b15842e79d0b421204">clear</a> ()</td></tr>
<tr class="separator:ac8bb3912a3ce86b15842e79d0b421204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acef8e33cfd36a5d7d2fad939efcf02e3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemo_1_1_fifo_allocator.html#acef8e33cfd36a5d7d2fad939efcf02e3">is_empty</a> () const </td></tr>
<tr class="separator:acef8e33cfd36a5d7d2fad939efcf02e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class implementing LIFO-ordered allocation services. The user assign a memory buffer to <a class="el" href="classmemo_1_1_fifo_allocator.html">FifoAllocator</a>, and it manages it as a circular buffer, allowing allocation of variable size and alignment. The FIFO constraint requires that only the oldest allocated block can be freed. <a class="el" href="classmemo_1_1_fifo_allocator.html">FifoAllocator</a> allows to get the address of the oldest allocated block, so that it can be consumed before being freed. If an allocation can be committed because there is not enough remaining space in the buffer, <a class="el" href="classmemo_1_1_fifo_allocator.html">FifoAllocator</a> returns nullptr. If you need a FIFO memory manager that can grow, you can use <a class="el" href="classmemo_1_1_queue.html">memo::Queue</a>. <a class="el" href="classmemo_1_1_fifo_allocator.html">FifoAllocator</a> provide an iterator inner-class, that can enumerate all the living blocks in a <a class="el" href="classmemo_1_1_fifo_allocator.html">FifoAllocator</a>. This class is not thread safe. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae0b367363d52356b7870b9669a44886a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmemo_1_1_fifo_allocator.html">FifoAllocator</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>default constructor. The memory buffer must be assigned before using the queue (see set_buffer) </p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmemo_1_1_fifo_allocator_ae0b367363d52356b7870b9669a44886a_icgraph.png" border="0" usemap="#classmemo_1_1_fifo_allocator_ae0b367363d52356b7870b9669a44886a_icgraph" alt=""/></div>
<map name="classmemo_1_1_fifo_allocator_ae0b367363d52356b7870b9669a44886a_icgraph" id="classmemo_1_1_fifo_allocator_ae0b367363d52356b7870b9669a44886a_icgraph">
<area shape="rect" id="node2" href="classmemo_1_1_fifo_allocator_1_1_test_session.html#a38b088af8017c25c8f43a026cc0d6665" title="test session /// " alt="" coords="150,5,333,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a09bf519f258ab8f95ad9cf0a064da3c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmemo_1_1_fifo_allocator.html">FifoAllocator</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>i_buffer_start_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>i_buffer_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>constructor that assigns soon the memory buffer </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmemo_1_1_fifo_allocator_a09bf519f258ab8f95ad9cf0a064da3c4_cgraph.png" border="0" usemap="#classmemo_1_1_fifo_allocator_a09bf519f258ab8f95ad9cf0a064da3c4_cgraph" alt=""/></div>
<map name="classmemo_1_1_fifo_allocator_a09bf519f258ab8f95ad9cf0a064da3c4_cgraph" id="classmemo_1_1_fifo_allocator_a09bf519f258ab8f95ad9cf0a064da3c4_cgraph">
<area shape="rect" id="node2" href="classmemo_1_1_fifo_allocator.html#acbc560d233bc9cb7fa96728c9bf3c398" title="set_buffer" alt="" coords="150,5,229,32"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a31adafa97455b9ed1afc71d76ecc5250"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * alloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>i_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>i_alignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>i_alignment_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>allocates a new memory block, respecting the requested alignment with an offset from the beginning of the block. If the allocation fails nullptr is returned. If the requested size is zero the return value is a non-null address. The content of the newly allocated block is undefined. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i_size</td><td>size of the block in bytes </td></tr>
    <tr><td class="paramname">i_alignment</td><td>alignment requested for the block. It must be an integer power of 2 </td></tr>
    <tr><td class="paramname">i_alignment_offset</td><td>offset from beginning of the block of the address that respects the alignment </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the address of the first byte in the block, or nullptr if the allocation fails </dd></dl>

</div>
</div>
<a class="anchor" id="ac8bb3912a3ce86b15842e79d0b421204"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>frees all the blocks in the queue </p>

</div>
</div>
<a class="anchor" id="a24ae09b7d0734e64ee5da7d1055824fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_first </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>i_first_block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>deallocates a memory block allocated by alloc or realloc. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i_address</td><td>address of the memory block to free. It must be the first block, returned by <a class="el" href="classmemo_1_1_fifo_allocator.html#abbc8a3c21c450f6a783eb94c407eab2e">FifoAllocator::get_first_block</a>. It cannot be nullptr. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmemo_1_1_fifo_allocator_a24ae09b7d0734e64ee5da7d1055824fa_cgraph.png" border="0" usemap="#classmemo_1_1_fifo_allocator_a24ae09b7d0734e64ee5da7d1055824fa_cgraph" alt=""/></div>
<map name="classmemo_1_1_fifo_allocator_a24ae09b7d0734e64ee5da7d1055824fa_cgraph" id="classmemo_1_1_fifo_allocator_a24ae09b7d0734e64ee5da7d1055824fa_cgraph">
<area shape="rect" id="node2" href="classmemo_1_1_fifo_allocator.html#abbc8a3c21c450f6a783eb94c407eab2e" title="get_first_block" alt="" coords="125,5,232,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abbc8a3c21c450f6a783eb94c407eab2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * get_first_block </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>returns the oldest block in the buffer (the front of the queue). </p>
<dl class="section return"><dt>Returns</dt><dd>the address of the first byte in the oldest block, or nullptr if the queue is empty </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmemo_1_1_fifo_allocator_abbc8a3c21c450f6a783eb94c407eab2e_icgraph.png" border="0" usemap="#classmemo_1_1_fifo_allocator_abbc8a3c21c450f6a783eb94c407eab2e_icgraph" alt=""/></div>
<map name="classmemo_1_1_fifo_allocator_abbc8a3c21c450f6a783eb94c407eab2e_icgraph" id="classmemo_1_1_fifo_allocator_abbc8a3c21c450f6a783eb94c407eab2e_icgraph">
<area shape="rect" id="node2" href="classmemo_1_1_fifo_allocator.html#a24ae09b7d0734e64ee5da7d1055824fa" title="free_first" alt="" coords="161,5,231,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acef8e33cfd36a5d7d2fad939efcf02e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool is_empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>checks whether the queue is empty </p>
<dl class="section return"><dt>Returns</dt><dd>true if the queue is empty, false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="acbc560d233bc9cb7fa96728c9bf3c398"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_buffer </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>i_buffer_start_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>i_buffer_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>assigns the memory buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i_buffer_start_address</td><td>pointer to the first byte in the buffer </td></tr>
    <tr><td class="paramname">i_buffer_length</td><td>number of bytes in the buffer </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmemo_1_1_fifo_allocator_acbc560d233bc9cb7fa96728c9bf3c398_icgraph.png" border="0" usemap="#classmemo_1_1_fifo_allocator_acbc560d233bc9cb7fa96728c9bf3c398_icgraph" alt=""/></div>
<map name="classmemo_1_1_fifo_allocator_acbc560d233bc9cb7fa96728c9bf3c398_icgraph" id="classmemo_1_1_fifo_allocator_acbc560d233bc9cb7fa96728c9bf3c398_icgraph">
<area shape="rect" id="node2" href="classmemo_1_1_fifo_allocator.html#a09bf519f258ab8f95ad9cf0a064da3c4" title="FifoAllocator" alt="" coords="134,5,229,32"/></map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>D:/SmartGit/mmemo/fifo/<a class="el" href="fifo__allocator_8h_source.html">fifo_allocator.h</a></li>
<li>D:/SmartGit/mmemo/fifo/fifo_allocator.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Mar 23 2014 08:06:00 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
